# CashGit 部署检查清单

## ✅ 部署前检查

### AWS 账户准备
- [ ] AWS 账户已注册并验证
- [ ] 支付方式已设置
- [ ] 有足够的权限创建 EC2 实例

### 域名准备
- [ ] 域名 cashgit.com 已购买
- [ ] 域名管理权限已获得
- [ ] 可以修改 DNS 记录

### 本地环境
- [ ] 项目代码已完整
- [ ] 本地测试通过
- [ ] 部署脚本已准备

## 🖥️ EC2 实例创建

### 实例配置
- [ ] 选择 Ubuntu 22.04 LTS
- [ ] 实例类型：t3.small
- [ ] 存储：20 GB gp3 SSD
- [ ] 安全组配置正确

### 安全组设置
- [ ] SSH (22) 端口开放
- [ ] HTTP (80) 端口开放
- [ ] HTTPS (443) 端口开放
- [ ] 密钥对已创建并下载

## 🌐 域名配置

### Route 53 设置
- [ ] 托管区域已创建
- [ ] A 记录指向 EC2 IP
- [ ] CNAME 记录配置正确
- [ ] DNS 传播等待完成

## 🔑 服务器连接

### SSH 连接
- [ ] 密钥文件权限设置正确 (chmod 400)
- [ ] 可以成功连接到服务器
- [ ] 服务器系统更新完成

## 📦 应用部署

### 文件上传
- [ ] 项目文件已上传到服务器
- [ ] 部署脚本权限已设置
- [ ] 部署脚本执行成功

### 环境配置
- [ ] Node.js 18.x 已安装
- [ ] MongoDB 已安装并启动
- [ ] Nginx 已安装并配置
- [ ] PM2 已安装

### 应用启动
- [ ] 后端应用已启动
- [ ] 前端已构建并部署
- [ ] Nginx 配置正确
- [ ] 应用可以正常访问

## 🔒 安全配置

### SSL 证书
- [ ] Let's Encrypt 证书已安装
- [ ] HTTPS 可以正常访问
- [ ] 证书自动续期已配置

### 防火墙
- [ ] UFW 防火墙已启用
- [ ] 必要端口已开放
- [ ] 安全规则配置正确

## ⚙️ 环境变量

### 生产配置
- [ ] JWT_SECRET 已设置
- [ ] API_KEY_SECRET 已设置
- [ ] MongoDB 连接字符串正确
- [ ] AirPay 配置已填写（如果有）

### 邮箱配置
- [ ] SSL 证书邮箱已设置
- [ ] 管理员邮箱已配置

## 📊 监控和日志

### 日志配置
- [ ] PM2 日志目录已创建
- [ ] Nginx 日志正常
- [ ] MongoDB 日志正常

### 监控工具
- [ ] 系统监控工具已安装
- [ ] 应用状态可以查看
- [ ] 日志可以正常查看

## 🧪 功能测试

### 基础功能
- [ ] 网站可以正常访问
- [ ] 前端页面加载正常
- [ ] 后端 API 响应正常
- [ ] 数据库连接正常

### 支付功能
- [ ] 支付配置页面正常
- [ ] 用户管理功能正常
- [ ] 商户管理功能正常
- [ ] 系统监控功能正常

## 🔄 备份和恢复

### 备份策略
- [ ] 代码备份方案已确定
- [ ] 数据库备份已配置
- [ ] 配置文件已备份
- [ ] 恢复流程已测试

## 📈 性能优化

### 系统优化
- [ ] 系统资源使用正常
- [ ] 内存使用合理
- [ ] 磁盘空间充足
- [ ] 网络连接稳定

### 应用优化
- [ ] 前端资源已压缩
- [ ] 静态文件缓存配置
- [ ] API 响应时间正常
- [ ] 数据库查询优化

## 🆘 故障排除

### 常见问题
- [ ] 应用无法启动的解决方案
- [ ] 域名无法访问的解决方案
- [ ] SSL 证书问题的解决方案
- [ ] 数据库连接问题的解决方案

### 联系信息
- [ ] 服务器 IP 已记录
- [ ] SSH 密钥已保存
- [ ] 管理员邮箱已记录
- [ ] 技术支持联系方式已准备

## 🎉 部署完成

### 最终检查
- [ ] 所有功能测试通过
- [ ] 性能指标正常
- [ ] 安全配置正确
- [ ] 监控系统正常

### 上线确认
- [ ] 域名解析正常
- [ ] HTTPS 访问正常
- [ ] 所有页面功能正常
- [ ] 支付流程测试通过

---

**部署完成后，你的 CashGit 支付平台将正式上线！** 🚀

## 📞 紧急联系

如果部署过程中遇到问题，请检查：
1. 服务器连接是否正常
2. 日志文件中的错误信息
3. 系统资源使用情况
4. 网络连接状态

**重要信息记录：**
- 服务器 IP：________________
- SSH 密钥路径：________________
- 管理员邮箱：________________
- 域名：cashgit.com 