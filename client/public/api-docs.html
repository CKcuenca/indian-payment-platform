<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CashGit India Payment API文档</title>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.6; color: #333; background: #f0f0f0; }
        .header { background: #2c3e50; color: white; padding: 20px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .logout-btn { background: #e74c3c; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-weight: 500; transition: all 0.3s; }
        .logout-btn:hover { background: #c0392b; transform: translateY(-2px); }
        .content-wrapper { display: flex; height: calc(100vh - 100px); width: 1200px; margin: 0 auto; background: #f0f0f0; }
        .sidebar { width: 20%; background: white; color: #333; overflow-y: auto; border-right: 1px solid #ddd; }
        .main-content { width: 60%; padding: 0; overflow-y: auto; background: white; scroll-behavior: smooth; }
        .support-sidebar { width: 20%; background: white; padding: 0; border-left: 1px solid #ddd; }
        .nav-item { padding: 15px 20px; cursor: pointer; margin: 2px 0; transition: all 0.3s; border-right: 3px solid transparent; }
        .nav-item:hover { background: #e0e0e0; border-right-color: #3498db; }
        .nav-item.active { background: #e0e0e0; border-right-color: #3498db; color: #333; font-weight: bold; }
        .nav-submenu { background: white; display: none; }
        .nav-submenu .nav-item { padding: 12px 20px 12px 40px; font-size: 0.9em; background: white; }
        .nav-item.expanded { background: #e0e0e0; border-right-color: #3498db; }
        .nav-item.expanded strong { color: #333; font-weight: bold; }
        .nav-submenu .nav-item.active { background: #e0e0e0; border-right-color: #3498db; color: #333; font-weight: bold; }
        .content-section { display: none; background: white; padding: 30px; border-radius: 8px; margin-bottom: 20px; }
        .content-section.active { display: block; }
        
        .code-block { background: #1e1e1e; border: 1px solid #3c3c3c; border-radius: 6px; padding: 16px; margin: 16px 0; font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', monospace; font-size: 13px; line-height: 1.45; overflow-x: auto; color: #d4d4d4; position: relative; }
        
        /* 移除highlight.js的默认背景色 */
        .code-block .hljs { background: transparent !important; }
        .code-block code.hljs { background: transparent !important; }
        .code-block pre code { background: transparent !important; }
        
        .copy-btn { 
            position: absolute; 
            top: 8px; 
            right: 8px; 
            background: #0366d6; 
            color: white;
            border: none;
            padding: 4px 8px; 
            border-radius: 4px;
            font-size: 12px; 
            cursor: pointer;
            transition: background-color 0.2s; 
        }
        .copy-btn:hover { background: #0256cc; }
        .copy-btn.copied { background: #28a745; }
        
        .endpoint { background: #e3f2fd; border: 1px solid #2196f3; padding: 15px; margin: 15px 0; border-radius: 6px; border-left: 4px solid #2196f3; }
        .table { width: 100%; border-collapse: collapse; margin: 15px 0; border: 1px solid #dee2e6; border-radius: 6px; overflow: hidden; }
        .table th, .table td { border: 1px solid #dee2e6; padding: 8px; text-align: left; }
        .table th { background: #f8f9fa; font-weight: 600; color: #495057; }
        .table tr:nth-child(even) { background-color: #f8f9fa; }
        .table tr:hover { background-color: #e3f2fd; }
        .alert { padding: 15px; border-radius: 6px; margin: 15px 0; border-left: 4px solid; }
        .alert-info { background: #e3f2fd; border-left-color: #2196f3; color: #0d47a1; }
        .alert-warning { background: #fff3e0; border-left-color: #ff9800; color: #e65100; }
        .alert-success { background: #e8f5e8; border-left-color: #4caf50; color: #2e7d32; }
        .status-badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; text-transform: uppercase; }
        .status-pending { background: #fff3cd; color: #856404; }
        .status-success { background: #d4edda; color: #155724; }
        .status-failed { background: #f8d7da; color: #721c24; }
        .status-processing { background: #cce7ff; color: #004085; }
        h1 { font-size: 1.8em; }
        h2 { color: #2c3e50; margin-bottom: 20px; font-size: 1.5em; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        h3 { color: #34495e; margin: 25px 0 15px 0; font-size: 1.3em; }
        h4 { color: #495057; margin: 20px 0 10px 0; font-size: 1.2em; }
        p { color: #333; margin: 15px 0; font-size: 1.0em; line-height: 1.6; }
        .contact-info { background: white; padding: 20px; border-radius: 8px; }
        .contact-item { margin: 10px 0; }
        .contact-label { font-weight: 600; color: #333; font-size: 1.0em; line-height: 1.6; }
        .contact-item span { color: #333; font-size: 1.0em; line-height: 1.6; }
        
        /* 隐藏滚动条 */
        .sidebar::-webkit-scrollbar,
        .main-content::-webkit-scrollbar,
        .support-sidebar::-webkit-scrollbar {
            display: none;
        }
        .sidebar,
        .main-content,
        .support-sidebar {
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }
        
        /* 密码保护样式 */
        .password-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .password-container {
            background: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        
        .password-container h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .password-container p {
            color: #7f8c8d;
            margin-bottom: 25px;
            font-size: 1.0em;
        }
        
        .password-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 20px;
            transition: border-color 0.3s;
            text-align: center;
            letter-spacing: 2px;
        }
        
        .password-input:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .password-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }
        
        .password-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .password-error {
            color: #e74c3c;
            margin-top: 15px;
            font-size: 14px;
            display: none;
        }
        
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
            <!-- 密码保护界面 -->
            <div class="password-overlay" id="passwordOverlay">
                <div class="password-container">
                    <h2>🔒 文档访问控制</h2>
                    <p>请输入访问密码以查看API文档</p>
                    <input type="password" class="password-input" id="passwordInput" placeholder="请输入密码" maxlength="8">
                    <button class="password-btn" onclick="checkPassword()">确认访问</button>
                    <div class="password-error" id="passwordError">密码错误，请重新输入</div>
                </div>
            </div>
            
            <div class="header hidden" id="mainContent">
                <h1>CashGit India Payment印度统一支付平台</h1>
        <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">专业印度支付平台</p>
                <button onclick="logout()" class="logout-btn">退出登录</button>
            </div>
            
            <div class="content-wrapper hidden" id="contentWrapper">
                                <div class="sidebar">
                    <div class="nav-item active" onclick="showSection('architecture')">
                        <strong>关于CashGit</strong>
                    </div>
                        
            <div class="nav-item" onclick="showSection('sign')">
                <strong>1. Sign加密</strong>
                        </div>
                        
            <div class="nav-item" onclick="toggleSubmenu('collection')">
                <strong>2. 代收</strong> <span style="float:right;">▼</span>
            </div>
            <div class="nav-submenu" id="collection-submenu" style="display:none;">
                <div class="nav-item" onclick="showSection('create-collection')">2.1 创建代收订单</div>
                <div class="nav-item" onclick="showSection('collection-callback')">2.2 代收回调</div>
                <div class="nav-item" onclick="showSection('query-collection')">2.3 查询代收订单状态</div>
                <div class="nav-item" onclick="showSection('utr-management')">2.4 UTR补单</div>
                <div class="nav-item" onclick="showSection('query-upi')">2.5 查询UPI</div>
                        </div>
                        
            <div class="nav-item" onclick="toggleSubmenu('payout')">
                <strong>3. 代付</strong> <span style="float:right;">▼</span>
            </div>
            <div class="nav-submenu" id="payout-submenu" style="display:none;">
                <div class="nav-item" onclick="showSection('create-payout')">3.1 创建代付订单</div>
                <div class="nav-item" onclick="showSection('payout-callback')">3.2 代付回调</div>
                <div class="nav-item" onclick="showSection('query-payout')">3.3 查询代付订单状态</div>
                        </div>
                        
            <div class="nav-item" onclick="showSection('balance')">
                <strong>4. 余额查询</strong>
                        </div>
                        
            <div class="nav-item" onclick="showSection('sync-management')">
                <strong>5. 状态同步管理</strong>
                    </div>
                </div>

                <div class="main-content">
            <!-- 0. 关于CashGit -->
            <div id="architecture" class="content-section active">
                <h2>关于CashGit</h2>
                <p>CashGit India Payment 是一个专业的印度支付平台，为商户提供完整的支付解决方案，支持UPI、银行转账等多种支付方式。</p>
                
                <h3>系统架构图</h3>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-text">商户 → CashGit支付系统 → 银行/UPI网络

数据流向：
1. 商户发起支付请求
2. CashGit验证请求并处理支付
3. 系统与银行/UPI网络交互
4. 支付结果实时同步
5. 自动通知商户支付结果</code></pre>
                </div>

                <h3>核心优势</h3>
                <div class="alert alert-success">
                    <ul style="margin: 10px 0 0 20px;">
                        <li><strong>专业服务：</strong>专注于印度市场，深度理解本地支付需求</li>
                        <li><strong>实时同步：</strong>订单状态实时更新，确保数据一致性</li>
                        <li><strong>安全可靠：</strong>完整的签名验证和回调处理机制</li>
                        <li><strong>功能完整：</strong>支持代收、代付、UTR、UPI、余额查询等</li>
                    </ul>
                </div>

                <h3>支持功能</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>功能模块</th>
                            <th>说明</th>
                            <th>状态</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>代收支付</td>
                            <td>创建充值订单，支持UPI支付</td>
                            <td><span class="status-badge status-success">已实现</span></td>
                        </tr>
                        <tr>
                            <td>UTR管理</td>
                            <td>UTR补单提交和状态查询</td>
                            <td><span class="status-badge status-success">已实现</span></td>
                        </tr>
                        <tr>
                            <td>UPI查询</td>
                            <td>查询UPI状态和可用性</td>
                            <td><span class="status-badge status-success">已实现</span></td>
                        </tr>
                        <tr>
                            <td>代付功能</td>
                            <td>创建代付订单和状态查询</td>
                            <td><span class="status-badge status-success">已实现</span></td>
                        </tr>
                        <tr>
                            <td>余额查询</td>
                            <td>实时查询账户余额</td>
                            <td><span class="status-badge status-success">已实现</span></td>
                        </tr>
                        <tr>
                            <td>状态同步</td>
                            <td>自动同步订单状态</td>
                            <td><span class="status-badge status-success">已实现</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

                <!-- 1. Sign加密 -->
            <div id="sign" class="content-section">
                <h2>1. Sign加密</h2>
                <p>所有API请求都需要进行MD5签名验证，确保数据安全和完整性。</p>
                
                <h3>签名规则</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-javascript">/**
 * 签名规则说明
 * 1. 将所有参数按照参数名ASCII码从小到大排序
 * 2. 拼接成 key1=value1&key2=value2 格式
 * 3. 在字符串末尾拼接上商户密钥
 * 4. 对拼接后的字符串进行MD5加密（32位小写）
 */</code></pre>
                        </div>

                <h3>签名示例</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-javascript">// 原始参数
const params = {
    mchid: 'MERCHANT_001',
    amount: '100.00',
    out_trade_no: 'ORD1234567890',
    notify_url: 'https://yourgame.com/payment/notify'
};

// 排序后拼接
const sortedParams = Object.keys(params)
    .sort()
    .map(key => `${key}=${params[key]}`)
    .join('&');
// 结果: amount=100.00&mchid=MERCHANT_001&notify_url=https://yourgame.com/payment/notify&out_trade_no=ORD1234567890

// 拼接密钥
const secretKey = 'YOUR_SECRET_KEY';
const signString = sortedParams + secretKey;

// MD5加密结果
const sign = md5(signString);
// 最终签名: md5("amount=100.00&mchid=MERCHANT_001&notify_url=https://yourgame.com/payment/notify&out_trade_no=ORD1234567890YOUR_SECRET_KEY")</code></pre>
                        </div>

                <h3>注意事项</h3>
                <div class="alert alert-warning">
                    <strong>重要提示：</strong>
                    <ul style="margin: 10px 0 0 20px;">
                        <li>签名验证失败会导致API调用失败</li>
                        <li>请确保签名算法正确实现</li>
                        <li>参数值不能为空，空值不参与签名</li>
                        <li>签名不区分大小写，但建议使用小写</li>
                    </ul>
                    </div>
                </div>

                <!-- 2.1 创建代收订单 -->
                <div id="create-collection" class="content-section">
                <h2>2.1 创建代收订单</h2>
                <p>为玩家创建充值订单，支持UPI支付方式。</p>
                        
                        <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/pay
                        </div>

                <h3>请求参数</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>参数名</th>
                                <th>类型</th>
                                <th>必填</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                            <td>appid</td>
                                <td>string</td>
                                <td>是</td>
                            <td>商户应用ID</td>
                            </tr>
                            <tr>
                            <td>orderid</td>
                                <td>string</td>
                                <td>是</td>
                                <td>商户订单号，唯一标识</td>
                            </tr>
                            <tr>
                                <td>amount</td>
                                <td>string</td>
                                <td>是</td>
                                <td>订单金额（保留2位小数）</td>
                            </tr>
                        <tr>
                            <td>desc</td>
                            <td>string</td>
                            <td>否</td>
                            <td>订单描述</td>
                        </tr>
                            <tr>
                                <td>notify_url</td>
                                <td>string</td>
                                <td>否</td>
                                <td>异步通知URL</td>
                            </tr>
                            <tr>
                                <td>sign</td>
                                <td>string</td>
                                <td>是</td>
                                <td>MD5签名</td>
                            </tr>
                        </tbody>
                    </table>

                <h3>请求示例</h3>
                    <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "appid": "MERCHANT_001",
  "orderid": "ORD1234567890",
  "amount": "100.00",
  "desc": "游戏充值订单",
  "notify_url": "https://yourgame.com/payment/notify"
}</code></pre>
                    </div>

                <h3>响应示例</h3>
                    <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "success": true,
  "message": "订单创建成功",
  "data": {
    "orderid": "ORD1234567890",
    "amount": "100.00",
    "trade_no": "TXN_123456",
    "status": "success"
  }
}</code></pre>
                    </div>

                    <div class="alert alert-info">
                    <strong>注意：</strong> 订单创建成功后，系统会返回交易号，商户可以通过查询接口获取订单状态。
                    </div>
                </div>

                <!-- 2.2 代收回调 -->
                <div id="collection-callback" class="content-section">
                <h2>2.2 代收回调</h2>
                <p>支付成功后，平台会向商户指定的notify_url发送异步通知。</p>
                        
                <h3>回调参数</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>参数名</th>
                                    <th>类型</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mchid</td>
                                    <td>string</td>
                                    <td>商户ID</td>
                                </tr>
                                <tr>
                                    <td>out_trade_no</td>
                                    <td>string</td>
                                    <td>商户订单号</td>
                                </tr>
                                <tr>
                                    <td>trade_no</td>
                                    <td>string</td>
                                    <td>平台交易号</td>
                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>string</td>
                                    <td>订单金额</td>
                                </tr>
                                <tr>
                                    <td>status</td>
                                    <td>string</td>
                                    <td>订单状态</td>
                                </tr>
                        <tr>
                            <td>utr_number</td>
                            <td>string</td>
                            <td>UTR交易号</td>
                        </tr>
                                <tr>
                                    <td>sign</td>
                                    <td>string</td>
                                    <td>MD5签名</td>
                                </tr>
                            </tbody>
                        </table>

                <h3>回调示例</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-http">POST https://yourgame.com/payment/notify
Content-Type: application/x-www-form-urlencoded

mchid=MERCHANT_001&out_trade_no=ORD1234567890&trade_no=TXN_123456&amount=100.00&status=2&utr_number=UTR123456789&sign=abc123def456</code></pre>
                        </div>

                <h3>回调处理要求</h3>
                        <div class="alert alert-warning">
                            <strong>重要：</strong> 商户收到回调后，必须返回"SUCCESS"字符串，否则平台会重复发送回调通知。
                        </div>

                <h3>回调重试机制</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-text">回调重试时间间隔：
- 第1次：立即发送
- 第2次：5分钟后重试
- 第3次：15分钟后重试
- 第4次：30分钟后重试
- 最多重试4次，如果仍然失败则停止</code></pre>
                    </div>
                </div>

                <!-- 2.3 查询代收订单状态 -->
                <div id="query-collection" class="content-section">
                <h2>2.3 查询代收订单状态</h2>
                <p>查询订单的当前状态和详细信息。</p>
                        
                        <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/query
                        </div>

                <h3>请求参数</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>参数名</th>
                                    <th>类型</th>
                                    <th>必填</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mchid</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>商户ID</td>
                                </tr>
                                <tr>
                                    <td>out_trade_no</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>商户订单号</td>
                                </tr>
                                <tr>
                                    <td>sign</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>MD5签名</td>
                                </tr>
                            </tbody>
                        </table>

                <h3>响应示例</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "success": true,
  "message": "查询成功",
  "data": {
    "orderid": "ORD1234567890",
    "amount": "100.00",
    "status": "SUCCESS",
    "paytime": 1705296600000,
    "desc": "游戏充值订单",
    "utr": "UTR123456789"
  }
}</code></pre>
                        </div>

                <h3>订单状态说明</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-text">状态码说明：
PENDING - 待处理
PROCESSING - 处理中
SUCCESS - 成功
FAILED - 失败
CANCELLED - 取消
EXPIRED - 过期</code></pre>
                    </div>
                </div>

                <!-- 2.4 UTR补单 -->
                <div id="utr-management" class="content-section">
                <h2>2.4 UTR补单</h2>
                <p>当玩家通过UPI支付后，可以通过UTR号进行补单操作。</p>
                        
                        <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/utr/submit
                        </div>

                <h3>请求参数</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>参数名</th>
                                    <th>类型</th>
                                    <th>必填</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                            <td>appid</td>
                                    <td>string</td>
                                    <td>是</td>
                            <td>商户应用ID</td>
                        </tr>
                        <tr>
                            <td>orderid</td>
                            <td>string</td>
                            <td>是</td>
                            <td>订单号</td>
                                </tr>
                                <tr>
                                    <td>utr_number</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>UTR交易号</td>
                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>交易金额</td>
                                </tr>
                                <tr>
                                    <td>sign</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>MD5签名</td>
                                </tr>
                            </tbody>
                        </table>

                <h3>UTR状态查询</h3>
                        <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/utr/query
                        </div>

                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-javascript">// UTR状态查询参数
{
  "appid": "MERCHANT_001",
  "orderid": "ORD1234567890",
  "sign": "abc123def456"
}

// 响应示例
{
  "success": true,
  "message": "查询成功",
  "data": {
    "orderid": "ORD1234567890",
    "utr_status": "VERIFIED",
    "message": "UTR验证成功"
    "transaction_time": "2024-01-15 10:30:00"
  }
}</code></pre>
                    </div>
                </div>

                <!-- 2.5 查询UPI -->
                <div id="query-upi" class="content-section">
                <h2>2.5 查询UPI</h2>
                <p>查询可用的UPI账户信息。</p>
                        
                        <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/upi/query
                        </div>

                <h3>请求参数</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>参数名</th>
                                    <th>类型</th>
                                    <th>必填</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                            <td>appid</td>
                                    <td>string</td>
                                    <td>是</td>
                            <td>商户应用ID</td>
                                </tr>
                                <tr>
                                    <td>sign</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>MD5签名</td>
                                </tr>
                            </tbody>
                        </table>

                <h3>响应示例</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "success": true,
  "message": "查询成功",
  "data": {
      "upi_id": "upi@cashgit",
    "upi_status": "ACTIVE",
    "message": "UPI查询成功"
    }
}</code></pre>
                    </div>
                </div>

                <!-- 3.1 创建代付订单 -->
                <div id="create-payout" class="content-section">
                <h2>3.1 创建代付订单</h2>
                <p>为玩家创建提现订单，将资金转入指定银行账户。</p>
                        
                        <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/payout/create
                        </div>

                <h3>请求参数</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>参数名</th>
                                <th>类型</th>
                                <th>必填</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                            <td>appid</td>
                                <td>string</td>
                                <td>是</td>
                            <td>商户应用ID</td>
                            </tr>
                            <tr>
                            <td>orderid</td>
                                <td>string</td>
                                <td>是</td>
                                <td>商户订单号</td>
                            </tr>
                            <tr>
                                <td>amount</td>
                                <td>string</td>
                                <td>是</td>
                                <td>提现金额（保留2位小数）</td>
                            </tr>
                            <tr>
                                <td>account_number</td>
                                <td>string</td>
                                <td>是</td>
                                <td>银行账户号</td>
                            </tr>
                            <tr>
                                <td>ifsc_code</td>
                                <td>string</td>
                                <td>是</td>
                                <td>IFSC代码</td>
                            </tr>
                            <tr>
                                <td>account_holder</td>
                                <td>string</td>
                                <td>是</td>
                                <td>账户持有人姓名</td>
                            </tr>
                            <tr>
                                <td>notify_url</td>
                                <td>string</td>
                                <td>否</td>
                                <td>异步通知URL</td>
                            </tr>
                            <tr>
                                <td>sign</td>
                                <td>string</td>
                                <td>是</td>
                                <td>MD5签名</td>
                            </tr>
                        </tbody>
                    </table>

                <h3>请求示例</h3>
                    <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "appid": "MERCHANT_001",
  "orderid": "Payout_1234567890",
  "amount": "500.00",
  "account_number": "1234567890",
  "ifsc_code": "SBIN0001234",
  "account_holder": "Player Name",
  "notify_url": "https://yourgame.com/payout/notify"
}</code></pre>
                    </div>

                <h3>响应示例</h3>
                    <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "success": true,
  "message": "代付订单创建成功",
  "data": {
    "orderid": "Payout_1234567890",
    "trade_no": "TXN_789012",
    "amount": "500.00",
    "status": "pending"
  }
}</code></pre>
                                    </div>
                </div>

                <!-- 3.2 代付回调 -->
                <div id="payout-callback" class="content-section">
                <h2>3.2 代付回调</h2>
                <p>代付处理完成后，平台会向商户指定的notify_url发送异步通知。</p>
                        
                <h3>回调参数</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>参数名</th>
                                    <th>类型</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                            <td>orderid</td>
                                    <td>string</td>
                                    <td>商户订单号</td>
                                </tr>
                                <tr>
                                    <td>trade_no</td>
                                    <td>string</td>
                                    <td>平台交易号</td>
                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>string</td>
                                    <td>代付金额</td>
                                </tr>
                                <tr>
                                    <td>status</td>
                                    <td>string</td>
                                    <td>代付状态</td>
                                </tr>
                        <tr>
                            <td>message</td>
                            <td>string</td>
                            <td>状态消息</td>
                        </tr>
                                <tr>
                                    <td>sign</td>
                                    <td>string</td>
                                    <td>MD5签名</td>
                                </tr>
                            </tbody>
                        </table>

                <h3>回调示例</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-http">POST https://yourgame.com/payout/notify
Content-Type: application/json

{
  "orderid": "Payout_1234567890",
  "trade_no": "TXN_789012",
  "amount": "500.00",
  "status": "SUCCESS",
  "message": "代付成功"
}</code></pre>
                        </div>

                <h3>代付状态说明</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-text">状态码说明：
PENDING - 待处理
PROCESSING - 处理中
SUCCESS - 成功
FAILED - 失败
CANCELLED - 取消
REJECTED - 拒绝</code></pre>
                    </div>
                </div>

                <!-- 3.3 查询代付订单状态 -->
                <div id="query-payout" class="content-section">
                <h2>3.3 查询代付订单状态</h2>
                <p>查询代付订单的当前状态。</p>
                        
                        <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/payout/query
                        </div>

                <h3>请求参数</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>参数名</th>
                                    <th>类型</th>
                                    <th>必填</th>
                                    <th>说明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>mchid</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>商户ID</td>
                                </tr>
                                <tr>
                                    <td>out_trade_no</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>商户订单号</td>
                                </tr>
                                <tr>
                                    <td>sign</td>
                                    <td>string</td>
                                    <td>是</td>
                                    <td>MD5签名</td>
                                </tr>
                            </tbody>
                        </table>

                <h3>响应示例</h3>
                        <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "rCode": 200,
  "message": "查询成功",
  "data": {
    "out_trade_no": "Payout_1234567890",
    "trade_no": "TXN_789012",
    "amount": "500.00",
    "status": "2",
    "account_number": "1234567890",
    "ifsc_code": "SBIN0001234",
    "account_holder": "Player Name",
    "create_time": "2024-01-15 10:00:00",
    "update_time": "2024-01-15 10:30:00"
  }
}</code></pre>
                    </div>
                </div>

                <!-- 4. 余额查询 -->
            <div id="balance" class="content-section">
                <h2>4. 余额查询</h2>
                <p>查询商户账户的当前余额。</p>
                        
                        <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/balance/query
                        </div>

                <h3>请求参数</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>参数名</th>
                                <th>类型</th>
                                <th>必填</th>
                                <th>说明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                            <td>appid</td>
                                <td>string</td>
                                <td>是</td>
                            <td>商户应用ID</td>
                            </tr>
                            <tr>
                                <td>sign</td>
                                <td>string</td>
                                <td>是</td>
                                <td>MD5签名</td>
                            </tr>
                        </tbody>
                    </table>

                <h3>响应示例</h3>
                    <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "success": true,
  "message": "查询成功",
  "data": {
    "balance": "10000.00",
    "currency": "INR",
    "last_update": "2024-01-15 10:30:00"
  }
}</code></pre>
                        </div>

                        <div class="alert alert-success">
                            <strong>提示：</strong> 余额查询接口可以随时调用，用于了解账户资金状况。
                        </div>
                    </div>

            <!-- 5. 状态同步管理 -->
            <div id="sync-management" class="content-section">
                <h2>5. 状态同步管理</h2>
                <p>提供订单状态同步管理功能，支持手动同步和状态查询。</p>
                
                <h3>5.1 手动同步指定订单</h3>
                <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/passpay-sync/sync-order
                </div>

                <h4>请求参数</h4>
                <table class="table">
                    <thead>
                        <tr>
                            <th>参数名</th>
                            <th>类型</th>
                            <th>必填</th>
                            <th>说明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>appid</td>
                            <td>string</td>
                            <td>是</td>
                            <td>商户应用ID</td>
                        </tr>
                        <tr>
                            <td>orderid</td>
                            <td>string</td>
                            <td>是</td>
                            <td>订单号</td>
                        </tr>
                        <tr>
                            <td>sign</td>
                            <td>string</td>
                            <td>是</td>
                            <td>MD5签名</td>
                        </tr>
                    </tbody>
                </table>

                <h4>响应示例</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "success": true,
  "message": "订单同步成功",
  "data": {
    "orderid": "ORD1234567890",
    "message": "同步完成"
  }
}</code></pre>
                </div>

                <h3>5.2 查询同步服务状态</h3>
                <div class="endpoint">
                    <strong>接口地址：</strong> POST https://api.cashgit.com/api/passpay-sync/status
                </div>

                <h4>请求参数</h4>
                <table class="table">
                    <thead>
                        <tr>
                            <th>参数名</th>
                            <th>类型</th>
                            <th>必填</th>
                            <th>说明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>appid</td>
                            <td>string</td>
                            <td>是</td>
                            <td>商户应用ID</td>
                        </tr>
                        <tr>
                            <td>sign</td>
                            <td>string</td>
                            <td>是</td>
                            <td>MD5签名</td>
                        </tr>
                    </tbody>
                </table>

                <h4>响应示例</h4>
                <div class="code-block">
                    <button class="copy-btn" onclick="copyCode(this)">复制</button>
                    <pre><code class="language-json">{
  "success": true,
  "message": "获取同步服务状态成功",
  "data": {
    "is_running": true,
    "sync_interval_seconds": 300,
    "last_sync": "2024-01-15 10:30:00"
  }
}</code></pre>
                </div>

                <div class="alert alert-info">
                    <strong>说明：</strong> 同步服务会自动同步订单状态，商户也可以通过手动同步接口立即同步指定订单。
                </div>
                </div>
            </div>

            <!-- 右侧技术支持栏 -->
            <div class="support-sidebar">
                <div class="contact-info">
                <h3>技术支持</h3>
                    <div class="contact-item">
                        <span class="contact-label">技术支持邮箱：</span>
                        <span>support@cashgit.com</span>
                    </div>
                    <div class="contact-item">
                        <span class="contact-label">商务合作：</span>
                        <span>business@cashgit.com</span>
                    </div>
                    <div class="contact-item">
                        <span class="contact-label">API文档：</span>
                    <span>https://cashgit.com/api-docs.html</span>
                    </div>
                    <div class="contact-item">
                        <span class="contact-label">最后更新：</span>
                    </div>
                <div class="contact-item">
                    <span>2025年8月23日</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 密码验证功能
        function checkPassword() {
            const password = document.getElementById('passwordInput').value;
            const correctPassword = '88888888';
            
            if (password === correctPassword) {
                // 密码正确，保存登录状态（24小时）
                const loginTime = new Date().getTime();
                const expireTime = loginTime + (24 * 60 * 60 * 1000); // 24小时后过期
                localStorage.setItem('apiDocsLogin', JSON.stringify({
                    loginTime: loginTime,
                    expireTime: expireTime,
                    isLoggedIn: true
                }));
                
                // 隐藏密码界面，显示主内容
                document.getElementById('passwordOverlay').style.display = 'none';
                document.getElementById('mainContent').classList.remove('hidden');
                document.getElementById('contentWrapper').classList.remove('hidden');
                
                // 初始化页面内容
                initializePage();
            } else {
                // 密码错误，显示错误信息
                document.getElementById('passwordError').style.display = 'block';
                document.getElementById('passwordInput').value = '';
                document.getElementById('passwordInput').focus();
            }
        }
        
        // 回车键提交密码
        function handlePasswordKeyPress(event) {
            if (event.key === 'Enter') {
                checkPassword();
            }
        }
        
        // 检查登录状态
        function checkLoginStatus() {
            const loginData = localStorage.getItem('apiDocsLogin');
            if (loginData) {
                try {
                    const data = JSON.parse(loginData);
                    const currentTime = new Date().getTime();
                    
                    // 检查是否在24小时内且已登录
                    if (data.isLoggedIn && currentTime < data.expireTime) {
                        // 登录状态有效，直接显示主内容
                        document.getElementById('passwordOverlay').style.display = 'none';
                        document.getElementById('mainContent').classList.remove('hidden');
                        document.getElementById('contentWrapper').classList.remove('hidden');
                        
                        // 初始化页面内容
                        initializePage();
                        return true;
                    } else {
                        // 登录已过期，清除存储的数据
                        localStorage.removeItem('apiDocsLogin');
                    }
                } catch (e) {
                    // 数据格式错误，清除存储的数据
                    localStorage.removeItem('apiDocsLogin');
                }
            }
            return false;
        }
        
        // 初始化页面内容
        function initializePage() {
            // 默认显示关于CashGit页面
            if (document.getElementById('architecture')) {
                document.getElementById('architecture').classList.add('active');
            }
            
            // 初始化highlight.js
            hljs.highlightAll();
            
            // 监听整个页面的滚动事件，同步到main-content
            const mainContent = document.querySelector('.main-content');
            if (mainContent) {
                // 监听鼠标滚轮事件
                document.addEventListener('wheel', function(event) {
                    // 如果鼠标不在main-content区域内，也允许滚动
                    if (mainContent && !mainContent.contains(event.target)) {
                        event.preventDefault();
                        const scrollAmount = event.deltaY;
                        mainContent.scrollTop += scrollAmount;
                    }
                }, { passive: false });

                // 监听键盘上下键
                document.addEventListener('keydown', function(event) {
                    if (mainContent && (event.key === 'ArrowUp' || event.key === 'ArrowDown')) {
                        event.preventDefault();
                        const scrollAmount = event.key === 'ArrowUp' ? -50 : 50;
                        mainContent.scrollTop += scrollAmount;
                    }
                });
            }
        }
        
        // 显示指定内容区域
        function showSection(sectionId) {
            // 隐藏所有内容区域
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // 移除所有导航项的active状态
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // 显示指定的内容区域
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // 设置对应导航项的active状态
            const activeNavItem = event.target.closest('.nav-item');
            if (activeNavItem) {
                activeNavItem.classList.add('active');
                
                // 如果选中的是子菜单项，移除对应主菜单的expanded状态
                const parentSubmenu = activeNavItem.closest('.nav-submenu');
                if (parentSubmenu) {
                    // 找到对应的主菜单（代收或代付）
                    const mainMenuId = parentSubmenu.id.replace('-submenu', '');
                    const mainMenuItem = document.querySelector(`[onclick="toggleSubmenu('${mainMenuId}')"]`);
                    if (mainMenuItem) {
                        mainMenuItem.classList.remove('expanded');
                    }
                }
            }
        }

        // 切换子菜单的展开/收起
        function toggleSubmenu(menuType) {
            const submenu = document.getElementById(menuType + '-submenu');
            const navItem = event.target.closest('.nav-item');
            
            if (submenu.style.display === 'block') {
                submenu.style.display = 'none';
                navItem.classList.remove('expanded');
            } else {
                // 收起其他展开的子菜单
                document.querySelectorAll('.nav-submenu').forEach(menu => {
                    menu.style.display = 'none';
                });
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('expanded');
                });
                
                // 展开当前子菜单
                submenu.style.display = 'block';
                navItem.classList.add('expanded');
            }
        }

        // 一键复制代码功能
        function copyCode(button) {
            const codeBlock = button.nextElementSibling;
            const code = codeBlock.textContent;
            
            // 复制到剪贴板
            navigator.clipboard.writeText(code).then(() => {
                // 显示复制成功状态
                button.textContent = '已复制';
                button.classList.add('copied');
                
                // 2秒后恢复原状态
                setTimeout(() => {
                    button.textContent = '复制';
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                // 如果clipboard API不可用，使用传统方法
                const textArea = document.createElement('textarea');
                textArea.value = code;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                // 显示复制成功状态
                button.textContent = '已复制';
                button.classList.add('copied');
                
                // 2秒后恢复原状态
                setTimeout(() => {
                    button.textContent = '复制';
                    button.classList.remove('copied');
                }, 2000);
            });
        }
        
        // 退出登录
        function logout() {
            if(confirm('确定要退出吗？')) {
                // 清除登录状态
                localStorage.removeItem('apiDocsLogin');
                // 重新加载页面，显示密码界面
                location.reload();
            }
        }
        
        // 页面加载完成后初始化
        window.addEventListener('load', function() {
            // 首先检查登录状态
            if (!checkLoginStatus()) {
                // 如果没有有效的登录状态，显示密码界面
                // 为密码输入框添加回车键事件监听器
                document.getElementById('passwordInput').addEventListener('keypress', handlePasswordKeyPress);
                
                // 密码输入框自动聚焦
                document.getElementById('passwordInput').focus();
            }
        });
    </script>
</body>
</html>
