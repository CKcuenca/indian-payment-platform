# å°åº¦å”¤é†’æ”¯ä»˜APIå¯¹æ¥æ–‡æ¡£

## ğŸ“‹ ç›®å½•

- [å‰è¨€æ¦‚è¿°](#å‰è¨€æ¦‚è¿°)
- [ç­¾åç®—æ³•](#ç­¾åç®—æ³•)
- [æ”¯ä»˜ç±»å‹](#æ”¯ä»˜ç±»å‹)
- [å­˜æ¬¾è®¢å•](#å­˜æ¬¾è®¢å•)
- [å‡ºæ¬¾è®¢å•](#å‡ºæ¬¾è®¢å•)
- [å¼‚æ­¥é€šçŸ¥](#å¼‚æ­¥é€šçŸ¥)
- [æŸ¥è¯¢æ¥å£](#æŸ¥è¯¢æ¥å£)
- [é”™è¯¯ç è¯´æ˜](#é”™è¯¯ç è¯´æ˜)
- [ç¤ºä¾‹ä»£ç ](#ç¤ºä¾‹ä»£ç )

---

## ğŸ¯ å‰è¨€æ¦‚è¿°

### æ¦‚è¦

æœ¬æ–‡æ¡£å®šä¹‰äº†æ¥å…¥å°åº¦å”¤é†’æ”¯ä»˜ç³»ç»Ÿçš„æŠ¥æ–‡æ¥å£è§„èŒƒï¼Œå…·ä½“åŒ…æ‹¬ï¼š

- **æ¥å£é€šä¿¡æ–¹å¼**ï¼šæ¶µç›–ç½‘ç»œé€šè®¯æ–¹å¼åŠæ¥å£åŠ è§£å¯†æ–¹å¼
- **ä¸šåŠ¡å¤„ç†æµç¨‹**ï¼šæ¶‰åŠä»£æ”¶ã€ä»£ä»˜ã€æµæ°´ç®¡ç†åŠè´¢åŠ¡ç®¡ç†ç­‰æ¨¡å—
- **äº¤æ˜“æŠ¥æ–‡æ ¼å¼è¯´æ˜**ï¼šåŒ…å«å…¥å‚ã€å‡ºå‚è§„èŒƒåŠJSONæ ¼å¼æ ‡å‡†

### ç›®æ ‡äººç¾¤

ç›®æ ‡è¯»è€…ä¸ºå…·å¤‡å¼€å‘èƒ½åŠ›ã€ç†Ÿæ‚‰ç›¸å…³ç¼–ç¨‹è¯­è¨€çš„å¼€å‘ã€ç»´æŠ¤åŠç®¡ç†äººå‘˜ã€‚

### è¯·æ±‚å¤´è¯´æ˜

ğŸ’¡ **è¯·æ±‚å¤´Content-Typeä¸ºï¼šapplication/json;charset=utf-8ï¼Œæ‰€æœ‰æ¥å£ä¸€è‡´**

### ç›¸å…³æœ¯è¯­

**å¹³å°æˆ–ç³»ç»Ÿ**
æŒ‡æä¾›å°åº¦å”¤é†’æ”¯ä»˜åŠŸèƒ½çš„æˆ‘å¸ç³»ç»Ÿï¼Œç”¨äºæ”¯æŒå•†æˆ·å®Œæˆå„ç±»äº¤æ˜“ã€‚

**å•†æˆ·å·**
è¿™æ˜¯å•†æˆ·åœ¨å¹³å°ä¸Šçš„å”¯ä¸€æ ‡è¯†ï¼Œç”¨äºéªŒè¯å…¶åœ¨å¹³å°çš„åˆæ³•æ€§ã€‚

**å•†æˆ·è®¢å•å·**
å•†æˆ·ç³»ç»Ÿä¸ºæ¯ç¬”è®¢å•ç”Ÿæˆçš„å”¯ä¸€ç¼–å·ï¼Œéœ€ç¡®ä¿å…¶å”¯ä¸€æ€§ï¼Œä»¥ä¾¿åœ¨å¹³å°ä¸­è¿›è¡ŒåŒºåˆ†ã€‚

**æ”¯ä»˜ç±»å‹**
æŒ‡ç”¨æ¥åŒºåˆ†æ”¯ä»˜äº§å“ç±»åˆ«çš„å­—æ®µï¼Œå…·ä½“å†…å®¹è¯¦è§æ¥å£æè¿°ã€‚

**åŠ å¯†å¯†é’¥**
å•†æˆ·ç”¨äºäº¤æ˜“è¯·æ±‚å‰å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†å’ŒéªŒç­¾çš„å…³é”®å·¥å…·ã€‚

**å¸ç§**
ç”¨äºåŒºåˆ†è´§å¸ç±»å‹çš„å­—æ®µï¼Œè¯¦æƒ…å‚è€ƒæ¥å£æè¿°éƒ¨åˆ†ã€‚

**åå°å¼‚æ­¥å›è°ƒ**
å½“äº¤æ˜“å¤„ç†å®Œæˆåï¼Œç³»ç»Ÿä¼šä¸»åŠ¨é€šçŸ¥å•†æˆ·ç½‘ç«™å¹¶æºå¸¦ç›¸å…³ç»“æœä¿¡æ¯ã€‚

**å•†æˆ·**
æŒ‡æ¥å…¥å¹³å°å¹¶ä½¿ç”¨å…¶æ”¯ä»˜æœåŠ¡çš„å®¢æˆ·æˆ–æœºæ„ã€‚

---

## ğŸ” ç­¾åç®—æ³•

### ç­¾åè§„åˆ™

#### Step 1. æ’åºæ‹¼æ¥
å°†éç©ºå‚æ•°å€¼æŒ‰ç…§å‚æ•°åASCIIç ä»å°åˆ°å¤§æ’åºï¼ˆå­—å…¸åºï¼‰ï¼Œä½¿ç”¨URLé”®å€¼å¯¹çš„æ ¼å¼ï¼ˆå³key1=value1&key2=value2â€¦ï¼‰æ‹¼æ¥æˆå­—ç¬¦ä¸²(strStringï¼‰ã€‚
- å‚æ•°åASCIIç ä»å°åˆ°å¤§æ’åº
- å¦‚æœå‚æ•°çš„å€¼ä¸ºç©ºä¸å‚ä¸ç­¾å
- å‚æ•°ååŒºåˆ†å¤§å°å†™

#### Step 2. æ‹¼æ¥keyåŠ å¯†
å°†strStringæœ€åæ‹¼æ¥ä¸Škeyå¾—åˆ°strSignå­—ç¬¦ä¸²ï¼Œå¹¶å¯¹strSignè¿›è¡Œ`SHA-256`ï¼Œå¾—åˆ°signå€¼signValue(16è¿›åˆ¶å°å†™)

### ç¤ºä¾‹å‚è€ƒã€Javaã€‘

```java
/**
 * è®¡ç®—SHA-256æ‘˜è¦å€¼ï¼Œå¹¶è½¬ä¸º16è¿›åˆ¶å­—ç¬¦ä¸²
 */
public static String checkSha256Hex(Map<String, Object> obj, String key, String signWebKey) {
    TreeMap<String, Object> map = mapToTreeMap(obj);
    String data = strSign(map, key, signWebKey);
    return sha256Hex(data);
}

public static String sha256Hex(String data) {
    return DigestUtil.sha256Hex(data);
}

/**
 * å­—ç¬¦æ‹¼æ¥k=1&v=2å½¢å¼
 */
public static String strSign(TreeMap<String, Object> map, String key, String signKye) {
    StringBuilder builder = new StringBuilder();
    map.forEach((k, v) -> {
        builder.append(k).append("=").append(v).append("&");
    });
    builder.append(signKye).append("=").append(key);
    return builder.toString();
}
```

---

## ğŸ’³ æ”¯ä»˜ç±»å‹

### å°åº¦å”¤é†’æ”¯ä»˜ç±»å‹

| æ”¯ä»˜ç±»å‹ID | æ”¯ä»˜ç±»å‹åç§° | è¯´æ˜ | çŠ¶æ€ |
|------------|--------------|------|------|
| 1001 | UPIå”¤é†’æ”¯ä»˜ | å°åº¦UPIå”¤é†’æ”¯ä»˜æ–¹å¼ | âœ… æ”¯æŒ |
| 1002 | é“¶è¡Œå¡å”¤é†’æ”¯ä»˜ | å°åº¦é“¶è¡Œå¡å”¤é†’æ”¯ä»˜æ–¹å¼ | âœ… æ”¯æŒ |
| 1003 | é’±åŒ…å”¤é†’æ”¯ä»˜ | å°åº¦æ•°å­—é’±åŒ…å”¤é†’æ”¯ä»˜æ–¹å¼ | âœ… æ”¯æŒ |
| 1004 | ç½‘é“¶å”¤é†’æ”¯ä»˜ | å°åº¦ç½‘é“¶å”¤é†’æ”¯ä»˜æ–¹å¼ | âœ… æ”¯æŒ |

---

## ğŸ’° å­˜æ¬¾è®¢å•

### ç”³è¯·å­˜æ¬¾ï¼ˆDeposité€šç”¨ï¼‰

#### æ¥å£ä¿¡æ¯

- **æ¥å£åœ°å€**: `/api/order/create`
- **è¯·æ±‚æ–¹å¼**: POST
- **Content-Type**: application/json

#### è¯·æ±‚å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| mchNo | string | âœ… | å•†æˆ·å· |
| mchOrderId | string | âœ… | å•†æˆ·è®¢å•å·(å”¯ä¸€ä¸é‡å¤) |
| timestamp | string | âœ… | è¯·æ±‚æ—¶é—´æˆ³(unixæ—¶é—´æˆ³æ¯«ç§’) |
| payType | integer | âœ… | æ”¯ä»˜ç±»å‹ |
| amount | string | âœ… | æ”¯ä»˜é‡‘é¢å…ƒ(å¯æ¥æ”¶å°æ•°ç‚¹å2ä½) |
| notifyUrl | string | âœ… | æ”¯ä»˜ç»“æœé€šçŸ¥åœ°å€ |
| returnUrl | string | âœ… | æ”¯ä»˜æˆåŠŸè·³è½¬åœ°å€ |
| sign | string | âœ… | ç­¾åï¼ˆæ­¤å­—æ®µä¸å‚ä¸ç­¾åï¼‰ |

#### è¯·æ±‚ç¤ºä¾‹

```json
{
  "mchNo": "M171925157713",
  "mchOrderId": "test",
  "timestamp": "1726228640694",
  "payType": 1001,
  "amount": "105",
  "notifyUrl": "http://localhost:8080/test",
  "returnUrl": "http://localhost:8080/success",
  "sign": "7c5642e9ec5455b5a09af5abc6543da10b4fbc835b16432802af96327ea0b880"
}
```

#### å“åº”å‚æ•°

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| code | integer | å“åº”ç ï¼Œ0è¡¨ç¤ºæˆåŠŸ |
| msg | string | å“åº”æ¶ˆæ¯ |
| data | object | å“åº”æ•°æ® |
| data.orderId | string | å¹³å°è®¢å•å· |
| data.payUrl | string | æ”¯ä»˜é“¾æ¥ |
| data.qrCode | string | äºŒç»´ç é“¾æ¥ï¼ˆéƒ¨åˆ†æ”¯ä»˜æ–¹å¼ï¼‰ |

#### å“åº”ç¤ºä¾‹

```json
{
  "code": 0,
  "msg": "success",
  "data": {
    "orderId": "P20250127123456789",
    "payUrl": "https://pay.example.com/pay?orderId=P20250127123456789",
    "qrCode": "https://pay.example.com/qr?orderId=P20250127123456789"
  }
}
```

---

## ğŸ’¸ å‡ºæ¬¾è®¢å•

### ç”³è¯·å‡ºæ¬¾ï¼ˆWithdrawé€šç”¨ï¼‰

#### æ¥å£ä¿¡æ¯

- **æ¥å£åœ°å€**: `/api/payout/create`
- **è¯·æ±‚æ–¹å¼**: POST
- **Content-Type**: application/json

#### è¯·æ±‚å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| mchNo | string | âœ… | å•†æˆ·å· |
| mchOrderId | string | âœ… | å•†æˆ·è®¢å•å·(å”¯ä¸€ä¸é‡å¤) |
| timestamp | string | âœ… | è¯·æ±‚æ—¶é—´æˆ³(unixæ—¶é—´æˆ³æ¯«ç§’) |
| payType | integer | âœ… | å‡ºæ¬¾ç±»å‹ |
| amount | string | âœ… | å‡ºæ¬¾é‡‘é¢å…ƒ(å¯æ¥æ”¶å°æ•°ç‚¹å2ä½) |
| bankCode | string | âœ… | é“¶è¡Œä»£ç  |
| accountNo | string | âœ… | é“¶è¡Œè´¦å· |
| accountName | string | âœ… | è´¦æˆ·å§“å |
| ifscCode | string | âœ… | IFSCä»£ç ï¼ˆå°åº¦é“¶è¡Œç‰¹æœ‰ï¼‰ |
| notifyUrl | string | âœ… | å‡ºæ¬¾ç»“æœé€šçŸ¥åœ°å€ |
| sign | string | âœ… | ç­¾åï¼ˆæ­¤å­—æ®µä¸å‚ä¸ç­¾åï¼‰ |

#### è¯·æ±‚ç¤ºä¾‹

```json
{
  "mchNo": "M171925157713",
  "mchOrderId": "withdraw_001",
  "timestamp": "1726228640694",
  "payType": 2001,
  "amount": "1000",
  "bankCode": "HDFC",
  "accountNo": "1234567890",
  "accountName": "John Doe",
  "ifscCode": "HDFC0001234",
  "notifyUrl": "http://localhost:8080/withdraw_notify",
  "sign": "7c5642e9ec5455b5a09af5abc6543da10b4fbc835b16432802af96327ea0b880"
}
```

---

## ğŸ”” å¼‚æ­¥é€šçŸ¥

### å­˜æ¬¾å¼‚æ­¥é€šçŸ¥

#### é€šçŸ¥åœ°å€
å•†æˆ·åœ¨ç”³è¯·å­˜æ¬¾æ—¶æä¾›çš„`notifyUrl`åœ°å€

#### é€šçŸ¥å‚æ•°

| å‚æ•°å | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| orderId | string | å¹³å°è®¢å•å· |
| mchOrderId | string | å•†æˆ·è®¢å•å· |
| status | string | è®¢å•çŠ¶æ€ï¼šSUCCESS-æˆåŠŸï¼ŒFAIL-å¤±è´¥ |
| amount | string | æ”¯ä»˜é‡‘é¢ |
| payType | integer | æ”¯ä»˜ç±»å‹ |
| payTime | string | æ”¯ä»˜æ—¶é—´ |
| sign | string | ç­¾å |

#### é€šçŸ¥ç¤ºä¾‹

```json
{
  "orderId": "P20250127123456789",
  "mchOrderId": "test",
  "status": "SUCCESS",
  "amount": "105",
  "payType": 1001,
  "payTime": "2025-01-27 12:34:56",
  "sign": "7c5642e9ec5455b5a09af5abc6543da10b4fbc835b16432802af96327ea0b880"
}
```

---

## ğŸ” æŸ¥è¯¢æ¥å£

### å­˜æ¬¾è®¢å•æŸ¥è¯¢

#### æ¥å£ä¿¡æ¯

- **æ¥å£åœ°å€**: `/api/order/query`
- **è¯·æ±‚æ–¹å¼**: POST
- **Content-Type**: application/json

#### è¯·æ±‚å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| mchNo | string | âœ… | å•†æˆ·å· |
| orderId | string | âŒ | å¹³å°è®¢å•å· |
| mchOrderId | string | âŒ | å•†æˆ·è®¢å•å· |
| timestamp | string | âœ… | è¯·æ±‚æ—¶é—´æˆ³ |
| sign | string | âœ… | ç­¾å |

---

## âŒ é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ | è§£å†³æ–¹æ¡ˆ |
|--------|------|----------|
| 0 | æˆåŠŸ | - |
| 1001 | å‚æ•°é”™è¯¯ | æ£€æŸ¥è¯·æ±‚å‚æ•°æ˜¯å¦å®Œæ•´ |
| 1002 | ç­¾åé”™è¯¯ | æ£€æŸ¥ç­¾åç®—æ³•å’Œå¯†é’¥æ˜¯å¦æ­£ç¡® |
| 1003 | å•†æˆ·ä¸å­˜åœ¨ | è”ç³»å¹³å°ç¡®è®¤å•†æˆ·å· |
| 1004 | å•†æˆ·å·²ç¦ç”¨ | è”ç³»å¹³å°å¯ç”¨å•†æˆ· |
| 1005 | ä½™é¢ä¸è¶³ | å……å€¼è´¦æˆ·ä½™é¢ |
| 1006 | è®¢å•å·é‡å¤ | ä½¿ç”¨æ–°çš„è®¢å•å· |
| 1007 | æ”¯ä»˜ç±»å‹ä¸æ”¯æŒ | æ£€æŸ¥æ”¯ä»˜ç±»å‹IDæ˜¯å¦æ­£ç¡® |
| 1008 | é‡‘é¢è¶…å‡ºé™åˆ¶ | æ£€æŸ¥é‡‘é¢æ˜¯å¦åœ¨å…è®¸èŒƒå›´å†… |
| 1009 | é“¶è¡Œä¿¡æ¯é”™è¯¯ | æ£€æŸ¥é“¶è¡Œè´¦å·ã€IFSCç­‰ä¿¡æ¯ |
| 1010 | ç³»ç»Ÿç¹å¿™ | ç¨åé‡è¯• |
| 9999 | ç³»ç»Ÿé”™è¯¯ | è”ç³»å¹³å°æŠ€æœ¯æ”¯æŒ |

---

## ğŸ’» ç¤ºä¾‹ä»£ç 

### Javaç¤ºä¾‹

```java
import java.util.Map;
import java.util.TreeMap;
import java.security.MessageDigest;

public class IndiaWakeupPaymentDemo {
    
    private static final String MERCHANT_NO = "M171925157713";
    private static final String SECRET_KEY = "your_secret_key";
    private static final String API_BASE_URL = "https://api.indiawakeup.com";
    
    public static void main(String[] args) {
        // åˆ›å»ºå­˜æ¬¾è®¢å•
        createDepositOrder();
    }
    
    public static void createDepositOrder() {
        Map<String, Object> params = new TreeMap<>();
        params.put("mchNo", MERCHANT_NO);
        params.put("mchOrderId", "deposit_" + System.currentTimeMillis());
        params.put("timestamp", String.valueOf(System.currentTimeMillis()));
        params.put("payType", 1001);
        params.put("amount", "100");
        params.put("notifyUrl", "http://your-domain.com/notify");
        params.put("returnUrl", "http://your-domain.com/return");
        
        String sign = generateSign(params, SECRET_KEY);
        params.put("sign", sign);
        
        System.out.println("å­˜æ¬¾è®¢å•å‚æ•°: " + params);
    }
    
    public static String generateSign(Map<String, Object> params, String secretKey) {
        StringBuilder sb = new StringBuilder();
        
        // æŒ‰ASCIIç æ’åºæ‹¼æ¥å‚æ•°
        for (Map.Entry<String, Object> entry : params.entrySet()) {
            if (entry.getValue() != null && !entry.getValue().toString().isEmpty()) {
                sb.append(entry.getKey()).append("=").append(entry.getValue()).append("&");
            }
        }
        
        // æ‹¼æ¥å¯†é’¥
        sb.append("key=").append(secretKey);
        
        // SHA-256åŠ å¯†
        return sha256(sb.toString());
    }
    
    public static String sha256(String input) {
        try {
            MessageDigest digest = MessageDigest.getInstance("SHA-256");
            byte[] hash = digest.digest(input.getBytes("UTF-8"));
            StringBuilder hexString = new StringBuilder();
            
            for (byte b : hash) {
                String hex = Integer.toHexString(0xff & b);
                if (hex.length() == 1) {
                    hexString.append('0');
                }
                hexString.append(hex);
            }
            
            return hexString.toString();
        } catch (Exception e) {
            throw new RuntimeException("SHA-256åŠ å¯†å¤±è´¥", e);
        }
    }
}
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼

- **æŠ€æœ¯æ”¯æŒé‚®ç®±**: support@indiawakeup.com
- **å•†åŠ¡åˆä½œé‚®ç®±**: business@indiawakeup.com
- **æŠ€æœ¯æ”¯æŒç”µè¯**: +91-XXXXXXXXXX
- **åœ¨çº¿å®¢æœ**: 7x24å°æ—¶åœ¨çº¿

### æ–‡æ¡£æ›´æ–°

- **æœ€åæ›´æ–°æ—¶é—´**: 2025å¹´1æœˆ27æ—¥
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
- **æ›´æ–°è¯´æ˜**: åˆå§‹ç‰ˆæœ¬å‘å¸ƒ

---

*æœ¬æ–‡æ¡£ç”±å°åº¦å”¤é†’æ”¯ä»˜å¹³å°æä¾›ï¼Œå¦‚æœ‰ç–‘é—®è¯·è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚*
